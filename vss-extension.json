{
    "manifestVersion": 1,
    "id": "icescrum-build-notify",
    "name": "iceScrum",
    "version": "0.4.1",
    "publisher": "kagilum",
    "description": "iceScrum for VSTS and TFS helps you to integrate iceScrum with your Microsoft environment and follow issues, commits & builds directly in iceScrum.",
    "targets": [
        {
            "id": "Microsoft.VisualStudio.Services"
        }
    ],
    "categories": [
        "Integrate"
    ],
    "tags": [
        "agile",
        "scrum",
        "project management",
        "roadmap"
    ],
    "screenshots": [
        {
            "path": "images/screen1.png"
        },
        {
            "path": "images/screen2.png"
        },
        {
            "path": "images/screen3.png"
        }
    ],
    "icons": {
        "default": "images/icescrum-logo.jpg"
    },
    "content": {
        "details": {
            "path": "overview.md"
        }
    },
    "links": {
        "getstarted": {
            "uri": "https://www.icescrum.com/features/"
        },
        "learn": {
            "uri": "https://www.icescrum.com/documentation/"
        },
        "support": {
            "uri": "https://www.visualstudio.com/team-services/support/"
        }
    },
    "branding": {
        "color": "#5CA8DB",
        "theme": "dark"
    },
    "files": [
        {
            "path": "notifyIceScrumTask"
        }
    ],
    "contributions": [
        {
            "id": "icescrum-build-notify",
            "type": "ms.vss-distributed-task.task",
            "targets": [
                "ms.vss-distributed-task.tasks"
            ],
            "properties": {
                "name": "notifyIceScrumTask"
            }
        },
        {
            "id": "icescrum-servicehook-commit",
            "type": "ms.vss-servicehooks.consumer",
            "targets": [
              "ms.vss-servicehooks.consumers"
            ],
            "properties": {
              "id": "icescrum-servicehook-commit",
              "name": "iceScrum",
              "description": "Provides integration with iceScrum",
              "informationUrl": "https://www.icescrum.com/documentation/git-svn/#vsts",
              "inputDescriptors": [
                {
                  "id": "url",
                  "name": "URL",
                  "description": "iceScrum URL to post event payload to",
                  "inputMode": "textbox",
                  "validation": {
                    "dataType": "string",
                    "isRequired": true
                  }
                },
                {
                    "id": "accessToken",
                    "name": "Access token",
                    "description": "Your iceScrum access token. <a href='https://www.icescrum.com/documentation/rest-api/#authentication'> Learn how to get one</a>.",
                    "inputMode": "textBox",
                    "isConfidential": true,
                    "useInDefaultDescription": false,
                    "validation": {
                      "dataType": "string",
                      "isRequired": true,
                      "minLength": 32,
                      "maxLength": 32
                    }
                  }
              ],
              "actions": [
                {
                  "id": "notify-icescrum",
                  "name": "Notify iceScrum",
                  "description": "Posts commit info to iceScrum",
                  "supportedEventTypes": [
                    "git.push"
                  ],
                  "publishEvent": {
                    "url": "{{{url}}}?icescrum-token={{{accessToken}}}",
                    "resourceDetailsToSend": "all",
                    "messagesToSend": "all",
                    "detailedMessagesToSend": "all"
                  }
                }
              ]
            }
          }
    ]
}